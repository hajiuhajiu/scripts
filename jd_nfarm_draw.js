/*
东东农场幸运抽奖

cron:1 1 1 1 * jd_XinFarm_draw.js

*/

const $ = new Env('新东东农场幸运抽奖')
var iｉl='jsjiami.com.v7';const lllil=iii1II;function Iii11l(){const IlIII=(function(){return[...[iｉl,'PrHjsjriVhpaSfmTiV.AcyomU.ybvV7nHrXyyhMQ==','EHHJF8kUwSkJnmozW5OrWQBcNGW4zG','WRldMCo/W6NdL37cNmk4nxy','sKTGyuK+','x251zK0','W4uMW794WQNcVqRcM8oj','yanH','CSoqdCoOlGpcImoYW5KxW7as','xr7cQvVcGCkmpq','W6RdTsaZDW','jmouk8kPk8kbWQdcP8oSacldThXWDCoqW5apWO/dTCoviZBcVmomW5yZWOBdHLKzW5NdH8kEWP4','C0z2W7Tx','xCowwG','W5K/smk7qSklfa','WQpcICkqBG','mKVdRcVcHqRdMGRdHHTKW7Hu','lSoCW7zM','W4JdJSom','rxbXW5i','WRJcNCkTWRq','q8oPfG','WRRcUh8OtG','W7TDmuD7qCoZ','agafWQWdWPlcNxrvdu0Xtq','vZXzbaC','WQq9h8oiyq','pXn2jcxcSSoQ','W6BcUIOpW7xdSq','44ku5OYd56wQ44gt6k2X5yEE6i+W5y2yWP5pbbrLlW','W5ZdQcyxW4GGx1a','rXpcV03cJmkyfmk6qCkocvmA','BaNcILpdLW','imkmqmkqluxcHa','W58icW','WOpcJ3ry','WP7dUdWtW5uVqG','CSoDsLpdLq','aKfkWOxdT1C','BabsE8kXqSkJmSoEW5O','WQ/cL8kiBLm','uSokw3hdUq','W6GyW6K','gK9E','xmkybCkcWRpcRCkacqxcRmokeqa','pmoMBSo/W7K','cKqXhxjl','pSo2Bhai','auHCWOVdKKdcTgm1rbuzuq9AWOK','W4STW6ddLmoi','W58AW7rvWOi','n0hdQsRcGG7cGd3dJaf7W7i','o8obnSkT','BfhcUaRdOG','W6XGWOiJza','c8k5zSkxsW','W50gaqW','EhlcJaFdKYW','WOP65OQg5AAE6i6u5B27uq','44cD5O6G56s844cl6kY15ywH6i2y5y6nW67dGrVcV8koiq','W7vlySoPB8orWOm6kIjwWPWGWQvPWOu7cgz8bSomWRJdNmoZW4WgW4FdRmozgCo+W4a','W71uyq','WORcK0CnCSoGWRZcKCoZWOLRvunu','W5GRlSoTzCoGiq','xSomsvVdTSkYqa','WOKIlCkJBIq','feeZvNldMNXlW7JdQmob','qf4xyCo6EfergG','hLrnWP7dJqNdLYmGqbLfrwLFWPKqxY4QWPJcO1NcKG','oCosW6fOdmoOWQW1WQlcQCoQWQu','WQ05bSkPsCoJ','BMNcIqNdKXa5WQtcJW','W63dS8osWR0g','W7NdMre8Fa','ssJKUPVLIAJLR6pMI7e','mrDlbIa','uqVcJKNcK8kafmk8rSko','tCoCkvC','W6jHcSkoWRWGcmkQ','qabHxCkd','W7mdW6nCWQi','W4qaW4e','y080zsRcUCoOWQpcTMq','lYZdMuRdVZi5WRdcVSog','w8otChNdOG','xCowswNdV8kHxKxdTfPnqSkJWPO','rrj+lsFdUufrW4BdSCo1W5PzcSoFhSkKwMC','t0D0ExS','W5pcRWaCW6av','v3xcIJ7dNq','sGbCE8ksbCkaWRxcOSoxu8k4Bq','W6ldJ8opW7OIhc4','W4b1mSo2rCo6p8oxzW48tmosW6DHma','wrxcUutcLCkppCkM','W5G1t8k8rSkEcmolWRtdNg0wgNi','imopoa','kCosW6zI','W4/dRce0WQKQwW','WQhcRw9yW7S'],...(function(){return[...['sNbY','dmoTBhqV','vuPjCIldMa','f8oeW5Hmda','vLGxz8oM','W4/cO8kgW7BdN0tdJmktnx7dQvqLW5qLuWNdMCosEGj7','WO9VW59eCgGZW5L2sSk4WQugW7pdOSofDfdcT8k2lCkVzmoIWP/cOqyAWPSrDmohWP9aW7rEEZaJWOS','W4FcIrmGW6S','WRGxkfbzsCo5lfXR','WRtcImkTWQutWRxdKwjdAf1gWPtdLmoRW53cUCoPksSGW7xdPmopwSo6geZdLryV','W55VW7W','amokrmoeW6ldS8ow','4P6HW47MNlpNN5JORzxMSO/dJa','W4NdKSom','WPRcS8k+','dv85hxjl','qHRcTeZcJ8kg','W78CC8kpqq','4P+KW7tKUjdMLAdMIPVLP7pMRQdML5hLTRVNLjVLRii','WPO7nmoPF8o+i8kpyqiQrCoB','W4ZdQceD','nW5SiW','W6/dTcm','x0P/svyQi8ofWRxdNu3cLSoK','W6e7W4FdI8oI','W5xdKSodWR4U','f1VdVYKTnq','W54MW7LHW73dTuZcNmoaqGjtCSose2u4WQ7cQgldPSk/FW','AXjkySkpc8kyWQi','4P28w+IhGoACHoI8SoIIP+MaN+wlPEs6S+MxO+IUGYS','WPVcUCkQwx8SWQ8','W5tcNamw','W6ldHCohWOmI','srHNAmku','WRCyW7tdNSoXWRNdSq','W7DJdCkmWP4WdmkMiCkFWOJcMblcLSkaxdT0WQi','A8ooD1ldNa','jmoUveSrka','jHD2pbdcRmo/WOu','u8oqr1ddQCk0','v0SrAq','E1KbACoh','WOJcNgTWW5hcQG','W5S3W75IWQBcVqy','WO7cL8kAFvq','wrxcVK3cMa','BMXXW5zk','ymkJoqPiDHfkh8kZWRRcKuy','WP/cK8k3WQefW6hcIMb7FLLx','W50HW51wWQy','W7PVdCkrWO0RaCkmlmknWRNcIXVcHa','wxfYzMG','W5NdMJ02W44','W5GEhbdcHq','xWjBECk3a8kbWQ7cPmobwCk6BqtdGmohleGM','WRX4WQC7W63dSeNLV73LPBVJGlVKUOdKUklOTBRLJy8','W7BdQcexF21ezWy','WOdcNx4','4P+6W73MNzJOGQZMR7dNOjZLPllNKPT5','WQtORktMSjlLKO/LUjlcTG','W7pcUZuNW6RdPq/dOCkWrq','W5L5d8kwWRi','gSohuSosW6/dP8o/actcGSoLiIe','eLFdSsG/jSoFW57dKxuPW51oECkOWO1MiCoA','jt9njYG','WQKFeW','WQ/cImk4WQevW7W','rCosoG','svjZaLD3bCooW6/dIKFcIq','FZK6avb9','y0e3yNtdRmk8WOBcSfHyWPL5','W4fLW6/cJNHFW5GyBW','WOyQjW','W5zHW6/cRa','WRdcK8k+','W6dcSIqJ','iCotoa','zteQavD4W4/dIq','WOO7a8kpBIHii8oJxq','W6fzk0a','W6ZcLCkdWRddUW','W7Pxjq','gKG7pgbpEq','W5mGW79CWRtcVq','xCoClL16WRarW6zEyeVdSSos','Bw/cKHRdMdKXWQ/cKW','W7pcGCk8WRRdLghcV8kAeNe','W7CdW7ZdUSoPWPFdI8otWPW','WOW1kmoUsCo3iG','WO45jCkJBIq','kSkmr8kREvhcLq','x8oqxNBdLmkYsMm','WQ7cPvyRtG','jSkAr8kXF1G','WOhcI3DAW5BcPq','zISU','peG2lmo1hCoBk8oeW6moWPpcSW','h2qdig0','W5avcqJcUSoT'],...(function(){return['BWPvuSkY','WOvqW4XiwG','W4mghGJcO8o7WRFcR39q','W4tcU8k9','nHDXnG','WPRcUefhW7q','kmobk8k4','W7fDnNH1qCo/kwz6h8oNW6vB','fNGqWQugWOlcSg9ifKzStb1GWQ7dRrqIW6CXrc/dJSoFCCkqWPi0FftdMKO','4P+KWQNMNB/OGOhMR7/NOlFLPkVNKlpdRW','zNvSyK8','bwKoWQ0aWOW','WPXoW6r5Aq','wInMmWW','W6ZdHCosW68Qha','W4ukW5vsWRFcK8kg','W5eofItcVCoV','5Q615OQg5Awe5P6/5lYC','WOORdCk/AmoVW7hcRG','vgXCW45S','FfLWiY3cUCo8W4/cT2DWWR1njfhdUmkGymo8WPhdOSoiyW','CfD3FwW','h8oAwCoYW63dSa','WQGG5OUe5AAZ6i2F5B+owa','WP5zWP8wW6lcO8k7zCoUWR8D','WRlcTmk4weG','sdBcMwJdOa','nCkiwSk8D1S','imoaW7u','CMLCBd8','W5lcQCkxWPpdGW','WOvYW5bDENqFW5H+vW','6z+A5BUR5A+P5PMrWRlcPNtVVOlPUixOROtKUABOHPxLIQtOVPROOiRVV7pOR7tMI6dLIP3OV77OO64','W5SAW4vcWRpcH8kq','mKtdPstdU1lcJWpdUZS','WOO7m8oJ','jCkatSkvA1e','W5CIW75vWQJcJGlcJSoB','kSkAuW','ycvfnHxdIhS','W4vOW77cQhTdW7SEz1y','ve8lxCoHDLW','W6awW7RdSG','zhpdJrddMa','wujEwG','mvBdGti5','W6mNW7zPWOW','W7RdOCoVW6Wc','W6/cJ8kP','W63cVcm','lmodW4zIoCoQWO41WQlcTq','qXr+cdddPfblW5FdG8oAW5PJdSozc8kIr2q','vtJcKM3dGq','WRJcK8k3WRa','W6lcSbiNW5a','rt5/ymkO','qrHUba','uG5i','WO8Qi8kp','WO7cL0CTDq','lmoqW6zQpmoOWRy1WRtcSSoqWRfXlmoeWRZdIW/dKa','x0uc','WPxcS8k9tW','W6JcVdChW7tdPa','WORcJ8kQWOWIW5RcTqDGyKCfWRNdVmokW4NcImkWoLqiW5e','WRm3dW','h8kwsgNdS8k/vcNdJL5brmkQWPRdUMBcTeaIWOhcSGy7WQCVW5FdNa','WRbzWRK','dmoFrmoZW6ZdGmoshdS','iqj3pIRcSSoMWOBcNa','vW9lDCk5','bCklccRcQSoJsuhdV2XgBa','WRFcVcOpW7ddNXq','W4yVvCkntCki','4P6IEUIfNEAERUI/VoIJMUMaI+wlIos6S+MvSUIUSsm','W4JdLmoJWPu7','W5TJFSkYgSkJnmkEEaCywq','omo1Ba','wKPD','W79UgSkjWP09hCk8','W4FdGGqQW6K','cK8y','W7ZdNSooW6aThclcJe4','W6JdJ8oiW4uIdY7cMumuEu/cLc0JW4ldTmoqWPG','rCoytNBdICk8uNtdV152u8kQ','WRboWRZcOSk3W4dcKSohWQmOEutdRG','W55VW6/cUxjcW4OYyLiaW4OIrq','W4u7WQX+kCowWRJcGG','cCooq8ow','W67cHCk9WQJdMhxcNG','WOeYbCk+Aa','iCoSk8kTkG','nb99','W4zRWOO8','uLfbCIldMa','tSo2aSoffmkmqZldNW','omoCuSofW43dTCoEcG'];}())];}())];}());Iii11l=function(){return IlIII;};return Iii11l();}function iii1II(_0x2750a3,_0x2d6ada){const _0x412cff=Iii11l();return iii1II=function(_0x7dedc2,_0x213a0f){_0x7dedc2=_0x7dedc2-0x19b;let _0x345854=_0x412cff[_0x7dedc2];if(iii1II['xPjtRp']===undefined){var _0x32ca35=function(_0x486074){const _0xfaf8da='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4df93f='',_0x5e0ba4='';for(let _0x1b3251=0x0,_0x117408,_0x23ec25,_0x884655=0x0;_0x23ec25=_0x486074['charAt'](_0x884655++);~_0x23ec25&&(_0x117408=_0x1b3251%0x4?_0x117408*0x40+_0x23ec25:_0x23ec25,_0x1b3251++%0x4)?_0x4df93f+=String['fromCharCode'](0xff&_0x117408>>(-0x2*_0x1b3251&0x6)):0x0){_0x23ec25=_0xfaf8da['indexOf'](_0x23ec25);}for(let _0x222d8c=0x0,_0x5831dd=_0x4df93f['length'];_0x222d8c<_0x5831dd;_0x222d8c++){_0x5e0ba4+='%'+('00'+_0x4df93f['charCodeAt'](_0x222d8c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5e0ba4);};const _0x86e192=function(_0x14fc70,_0x1f09ab){let _0x55a86f=[],_0x346811=0x0,_0x4bc362,_0x51ad37='';_0x14fc70=_0x32ca35(_0x14fc70);let _0x217ec0;for(_0x217ec0=0x0;_0x217ec0<0x100;_0x217ec0++){_0x55a86f[_0x217ec0]=_0x217ec0;}for(_0x217ec0=0x0;_0x217ec0<0x100;_0x217ec0++){_0x346811=(_0x346811+_0x55a86f[_0x217ec0]+_0x1f09ab['charCodeAt'](_0x217ec0%_0x1f09ab['length']))%0x100,_0x4bc362=_0x55a86f[_0x217ec0],_0x55a86f[_0x217ec0]=_0x55a86f[_0x346811],_0x55a86f[_0x346811]=_0x4bc362;}_0x217ec0=0x0,_0x346811=0x0;for(let _0x48dda1=0x0;_0x48dda1<_0x14fc70['length'];_0x48dda1++){_0x217ec0=(_0x217ec0+0x1)%0x100,_0x346811=(_0x346811+_0x55a86f[_0x217ec0])%0x100,_0x4bc362=_0x55a86f[_0x217ec0],_0x55a86f[_0x217ec0]=_0x55a86f[_0x346811],_0x55a86f[_0x346811]=_0x4bc362,_0x51ad37+=String['fromCharCode'](_0x14fc70['charCodeAt'](_0x48dda1)^_0x55a86f[(_0x55a86f[_0x217ec0]+_0x55a86f[_0x346811])%0x100]);}return _0x51ad37;};iii1II['jaMtpg']=_0x86e192,_0x2750a3=arguments,iii1II['xPjtRp']=!![];}const _0x2b3e61=_0x412cff[0x0],_0x19ad93=_0x7dedc2+_0x2b3e61,_0x4e56b9=_0x2750a3[_0x19ad93];return!_0x4e56b9?(iii1II['VvNpPZ']===undefined&&(iii1II['VvNpPZ']=!![]),_0x345854=iii1II['jaMtpg'](_0x345854,_0x213a0f),_0x2750a3[_0x19ad93]=_0x345854):_0x345854=_0x4e56b9,_0x345854;},iii1II(_0x2750a3,_0x2d6ada);};(function(IlIllI,il1i1I,lI1li1,iI11II,iIII1I,ilil1i,IlIIi){return IlIllI=IlIllI>>0x2,ilil1i='hs',IlIIi='hs',function(IiI1l,illlII,iIII11,IiI1i,llll1){const iIII1l=iii1II;IiI1i='tfi',ilil1i=IiI1i+ilil1i,llll1='up',IlIIi+=llll1,ilil1i=iIII11(ilil1i),IlIIi=iIII11(IlIIi),iIII11=0x0;const lil11l=IiI1l();while(!![]&&--iI11II+illlII){try{IiI1i=-parseInt(iIII1l(0x2b9,'ir2E'))/0x1*(-parseInt(iIII1l(0x29b,'aIV3'))/0x2)+parseInt(iIII1l(0x260,'I0hf'))/0x3*(-parseInt(iIII1l(0x25f,'A36F'))/0x4)+parseInt(iIII1l(0x27f,'FM60'))/0x5+parseInt(iIII1l(0x215,'j*#A'))/0x6+-parseInt(iIII1l(0x23a,'RK(2'))/0x7*(parseInt(iIII1l(0x1a4,'0@xh'))/0x8)+parseInt(iIII1l(0x1fb,'0@xh'))/0x9+-parseInt(iIII1l(0x26d,'Q3U&'))/0xa;}catch(i1i1Il){IiI1i=iIII11;}finally{llll1=lil11l[ilil1i]();if(IlIllI<=iI11II)iIII11?iIII1I?IiI1i=llll1:iIII1I=llll1:iIII11=llll1;else{if(iIII11==iIII1I['replace'](/[AyPrpnShTVMUfHQbX=]/g,'')){if(IiI1i===illlII){lil11l['un'+ilil1i](llll1);break;}lil11l[IlIIi](llll1);}}}}}(lI1li1,il1i1I,function(I1lIl1,lil11i,IlIIl,lI1liI,i1i1Ii,lllii,iI11Ii){return lil11i='\x73\x70\x6c\x69\x74',I1lIl1=arguments[0x0],I1lIl1=I1lIl1[lil11i](''),IlIIl=`\x72\x65\x76\x65\x72\x73\x65`,I1lIl1=I1lIl1[IlIIl]('\x76'),lI1liI=`\x6a\x6f\x69\x6e`,(0x16d6fb,I1lIl1[lI1liI](''));});}(0x2f0,0x257f4,Iii11l,0xbe),Iii11l)&&(iｉl=`\x644`);const jdCookie=require(lllil(0x1bd,'MSjf')),notify=require(lllil(0x25a,'A36F')),common=require(lllil(0x22c,'0@xh')),{H5st}=require(lllil(0x1ae,'RApm')),isNotify=![],sign_linkId=lllil(0x1ba,'g]6m'),draw_linkId=lllil(0x258,'MSKC');let cookie='';const cookiesArr=Object[lllil(0x275,'D1&O')](jdCookie)[lllil(0x1fd,'tDF^')](lilIi=>jdCookie[lilIi])[lllil(0x2b0,'yard')](l1l11I=>l1l11I);!cookiesArr[0x0]&&($[lllil(0x1ee,'$&W$')]($[lllil(0x2af,'A)ZR')],lllil(0x294,'I0hf')),process[lllil(0x1ca,'0@xh')](0x1));!(async()=>{const iI11Il=lllil,lilIl={'OZnGO':function(IilIlI,iIli11){return IilIlI<iIli11;},'QJILs':iI11Il(0x1bb,'ejLj'),'KFHGb':function(Iiiil,Iiiii){return Iiiil*Iiiii;}};console[iI11Il(0x21b,'crdz')](iI11Il(0x238,'I0hf')),notify[iI11Il(0x226,')Aom')]({'title':$[iI11Il(0x244,'Q4Ol')]});for(let l11i1I=0x0;lilIl[iI11Il(0x2a8,'Q3U&')](l11i1I,cookiesArr[iI11Il(0x213,'$&W$')]);l11i1I++){$[iI11Il(0x25e,'$gP2')]=l11i1I+0x1,cookie=cookiesArr[l11i1I],common[iI11Il(0x1fc,'G%#(')](cookie),$[iI11Il(0x1d1,'$gP2')]=decodeURIComponent(common[iI11Il(0x2b5,'mydJ')](cookie,iI11Il(0x1da,'phZR'))),$['UA']=common[iI11Il(0x1a9,'eoSJ')]($[iI11Il(0x278,'DuSt')]),$[iI11Il(0x286,'&ZbE')]=common[iI11Il(0x241,'vEC4')](lilIl['QJILs']),$[iI11Il(0x280,'cD4y')]=notify[iI11Il(0x217,'A)ZR')]($[iI11Il(0x1e2,'cD4y')],$['UserName']),$[iI11Il(0x202,'$N^p')]='',console['log'](iI11Il(0x1ec,'yLW2')+$[iI11Il(0x281,'9^D^')]+'】'+($[iI11Il(0x210,'A36F')]||$[iI11Il(0x22a,'J[^7')])+'******\x0a'),await Main(),common['unsetCookie']();if($[iI11Il(0x261,'Sx9U')])break;await $[iI11Il(0x204,'MSjf')](parseInt(lilIl[iI11Il(0x1c6,'Sx9U')](Math[iI11Il(0x2bd,'J[^7')](),0x3e8)+0x3e8,0xa));}})()[lllil(0x253,'mydJ')](IiII=>$[lllil(0x257,'I0hf')](IiII))['finally'](()=>$[lllil(0x24d,'MSKC')]());async function Main(){const iIII1i=lllil,llIIli={'miHRW':function(lIII1I,illIlI){return lIII1I===illIlI;},'kypyK':iIII1i(0x1e6,'yLW2'),'wLoJw':'账号无效'};try{const liIiI=await common[iIII1i(0x21f,'MSjf')](cookie);if(!liIiI&&typeof liIiI===iIII1i(0x20d,'RApm')){if(llIIli[iIII1i(0x263,'BuDg')](iIII1i(0x291,'RApm'),llIIli[iIII1i(0x1ea,'A)ZR')]))II11Ii[iIII1i(0x2a1,'Q3U&')](iIII1i(0x262,'RApm')+II11Il);else{console[iIII1i(0x21b,'crdz')](llIIli[iIII1i(0x27c,'eoSJ')]),$[iIII1i(0x280,'cD4y')][iIII1i(0x274,'0@xh')](llIIli['wLoJw']);return;}}await lotterydraw();}catch(Iiili){console[iIII1i(0x1ff,'MSKC')](iIII1i(0x1d2,'cD4y')+Iiili);}}async function lotterydraw(){const iil1i1=lllil,IilIli={'csflc':iil1i1(0x2b2,'j*#A'),'ZwJOF':function(li1,illIl1){return li1(illIl1);},'LCveY':iil1i1(0x203,'tDF^'),'mLttr':function(l1llII,IilIll){return l1llII<IilIll;},'wIHpl':iil1i1(0x29f,'&ZbE'),'fcBeV':iil1i1(0x23f,'ir2E'),'TYerG':iil1i1(0x23d,'yLW2'),'XumQV':function(lI11Ii,Iiill,l11i1i){return lI11Ii(Iiill,l11i1i);},'qShJR':function(lI11I1,l1il11){return lI11I1*l1il11;},'ozVNe':'wheelsHome','KHPHZ':function(IiI1,liI){return IiI1+liI;},'rJXyT':function(illIli,l11i1l){return illIli>l11i1l;},'VKNps':function(lIII11,IiilI,ii1I11){return lIII11(IiilI,ii1I11);},'InjMk':function(liIi1,lI11II){return liIi1*lI11II;},'rsIyu':function(l1llI1,llIIll){return l1llI1!==llIIll;},'UYcLN':iil1i1(0x19d,'0@xh'),'KEEuR':'ajLTV'};$['apTaskList']='',await IilIli[iil1i1(0x1d9,'A36F')](sendRequest,IilIli[iil1i1(0x1b4,'$&W$')]);if(!$['apTaskList'])return;if($[iil1i1(0x24a,'qTZ6')]){const IillIi=$['apTaskList']||[];for(let lii=0x0;IilIli[iil1i1(0x273,'Eq!t')](lii,IillIi['length']);lii++){if(IilIli[iil1i1(0x1f5,'0@xh')]===IilIli[iil1i1(0x216,'NhVk')]){$[iil1i1(0x1fa,'$N^p')]=IillIi[lii]['id'],$[iil1i1(0x1a0,'Y(sA')]=IillIi[lii]['taskType'],$[iil1i1(0x26c,'A36F')]=IillIi[lii][iil1i1(0x209,'!t$K')];const IllI1i=IillIi[lii][iil1i1(0x2bc,'qTZ6')],i11I1l=IillIi[lii][iil1i1(0x1c8,'RApm')];!IllI1i&&$[iil1i1(0x295,'aIV3')][iil1i1(0x1af,'cD4y')](IilIli[iil1i1(0x24e,'I0hf')])&&(console[iil1i1(0x21b,'crdz')]('去做幸运转盘任务\x20\x22'+i11I1l+'\x22'),await sendRequest(IilIli['TYerG']),await $['wait'](IilIli['XumQV'](parseInt,IilIli[iil1i1(0x1e9,'aIV3')](Math[iil1i1(0x233,'FM60')](),0x1f4)+0x3e8,0xa)));}else i1illI[iil1i1(0x259,'J[^7')](i1IIl[iil1i1(0x23b,'RApm')]?.[iil1i1(0x27b,'eoSJ')]);}}await sendRequest(IilIli[iil1i1(0x297,'RK(2')]),await $['wait'](IilIli[iil1i1(0x22d,'eoSJ')](parseInt,IilIli[iil1i1(0x246,'[r%(')](IilIli[iil1i1(0x1e8,'eoSJ')](Math[iil1i1(0x223,'FZ9@')](),0x3e8),0x7d0),0xa));if(IilIli[iil1i1(0x2ac,'yard')]($[iil1i1(0x26e,'G%#(')],0x0)){$[iil1i1(0x2a7,'y4ME')]=![],console[iil1i1(0x265,'phZR')]('当前剩余'+($['lotteryChances']||0x0)+iil1i1(0x229,'&w9C'));const IllI1l=Math[iil1i1(0x266,'Q4Ol')]($[iil1i1(0x1a7,'A36F')],0x14);for(let i11I1i=0x0;i11I1i<IllI1l;i11I1i++){await IilIli[iil1i1(0x1b8,'qTZ6')](sendRequest,'wheelsLottery'),await $['wait'](IilIli[iil1i1(0x24c,'RK(2')](parseInt,IilIli[iil1i1(0x1ab,'yard')](Math[iil1i1(0x1c5,'cD4y')](),0x7d0)+0xfa0,0xa));if($['wheelsLotteryHot'])break;}}else IilIli[iil1i1(0x22b,'uIM2')](IilIli[iil1i1(0x283,'uIM2')],IilIli[iil1i1(0x232,'RK(2')])?console[iil1i1(0x251,'$gP2')](iil1i1(0x1c7,'crdz')):(lilIl1['msg'](i1l1ii[iil1i1(0x29a,'$&W$')],IilIli[iil1i1(0x2a0,'A36F')]),i1l1['exit'](0x1));}async function handleResponse(llliil,liIl1){const il1i11=lllil,II1lll={'ynqhb':il1i11(0x1f1,'I0hf'),'HsdaS':function(II1lli,ii1I1I){return II1lli===ii1I1I;},'QkzBs':'JsHtH','cnBWk':'hvoAB','pohyB':il1i11(0x1d5,'BuDg'),'WNLfS':function(IiIl,IiIi){return IiIl!==IiIi;},'HNyzj':il1i11(0x1bc,'I0hf'),'oKQVu':function(iI1ll1,IlI1Il){return iI1ll1===IlI1Il;},'zBUjs':'fFOIw'};try{switch(llliil){case II1lll['ynqhb']:if(II1lll[il1i11(0x1e3,'uIM2')](liIl1[il1i11(0x288,'qTZ6')],0x0)&&liIl1[il1i11(0x28b,'MSKC')])$[il1i11(0x1e7,'Y(sA')]=liIl1?.['data']?.[il1i11(0x1b0,'Sx9U')];else{if(liIl1[il1i11(0x208,'yLW2')]||liIl1['msg']||liIl1['message'])II1lll[il1i11(0x218,'$gP2')]===il1i11(0x224,'ejLj')?I1iIiI[il1i11(0x1a3,'[r%(')](li1I1['data']?.[il1i11(0x228,'A)ZR')]):console[il1i11(0x1bf,'G%#(')](''+(liIl1[il1i11(0x1df,'$&W$')]||liIl1[il1i11(0x214,'$N^p')]||liIl1[il1i11(0x227,'[r%(')]));else liIl1[il1i11(0x200,'I0hf')]?.[il1i11(0x1cf,'N8O)')]?console[il1i11(0x1ff,'MSKC')](liIl1[il1i11(0x252,'tDF^')]?.[il1i11(0x293,'I0hf')]):console[il1i11(0x299,'A)ZR')]('❓'+llliil+'\x20'+JSON[il1i11(0x2ba,'vEC4')](liIl1));}break;case il1i11(0x29e,'j*#A'):if(II1lll[il1i11(0x1de,'vEC4')](liIl1[il1i11(0x28a,'uIM2')],0x0)&&liIl1[il1i11(0x19f,'!t$K')])$[il1i11(0x19e,'cD4y')]=liIl1?.[il1i11(0x1fe,'G%#(')];else{if(liIl1[il1i11(0x20e,'tDF^')]||liIl1[il1i11(0x289,'BuDg')]||liIl1[il1i11(0x1e0,'yLW2')])'NJPlx'===II1lll['cnBWk']?lI1Il1[il1i11(0x2a2,'y4ME')](''+(lilIi1[il1i11(0x276,'Q4Ol')]||IiilII[il1i11(0x234,'qTZ6')]||IliI1I[il1i11(0x292,'0@xh')])):console[il1i11(0x1b1,'Eq!t')](''+(liIl1['errMsg']||liIl1[il1i11(0x23e,'FM60')]||liIl1['message']));else liIl1[il1i11(0x1c9,'aIV3')]?.[il1i11(0x1b7,'Q4Ol')]?II1lll[il1i11(0x1ce,'BuDg')]===II1lll['pohyB']?console[il1i11(0x265,'phZR')](liIl1['data']?.['bizMsg']):IllII1['log']('❓'+I1iIil+'\x20'+lI1Iil[il1i11(0x25d,'0@xh')](lilIiI)):console[il1i11(0x1b5,'uIM2')]('❓'+llliil+'\x20'+JSON[il1i11(0x27d,'yLW2')](liIl1));}break;case'apsDoTask':if(liIl1[il1i11(0x250,'ir2E')]===0x0&&liIl1[il1i11(0x242,'Q3U&')])II1lll[il1i11(0x28d,'mydJ')](II1lll[il1i11(0x24f,'j*#A')],II1lll[il1i11(0x2bf,'BuDg')])?IiilIl[il1i11(0x29e,'j*#A')]=iii1Ii?.['data']:console[il1i11(0x284,'A36F')](il1i11(0x19c,'FZ9@'));else{if(liIl1['errMsg']||liIl1[il1i11(0x201,'Eq!t')]||liIl1['message'])console[il1i11(0x1cb,'9^D^')](''+(liIl1[il1i11(0x20e,'tDF^')]||liIl1[il1i11(0x27e,'j*#A')]||liIl1['message']));else liIl1[il1i11(0x1dd,'vEC4')]?.[il1i11(0x2b8,'tDF^')]?console[il1i11(0x255,'vEC4')](liIl1['data']?.[il1i11(0x2a5,'NhVk')]):il1i11(0x231,'&ZbE')===il1i11(0x1d6,'j*#A')?console[il1i11(0x1c3,'&ZbE')]('❓'+llliil+'\x20'+JSON[il1i11(0x20c,'Q3U&')](liIl1)):(delete Illl1l[il1i11(0x1b2,'qTZ6')],delete Illl1i['headers']['Content-Type']);}break;case il1i11(0x296,'cD4y'):if(II1lll[il1i11(0x268,'aIV3')](liIl1[il1i11(0x256,'&ZbE')],0x0)&&liIl1[il1i11(0x1c9,'aIV3')]){let IlI1Ii=liIl1['data']?.[il1i11(0x237,'ejLj')];switch(IlI1Ii){case 0x0:case null:console[il1i11(0x206,'MSjf')]('>\x20抽到了空气');break;case 0x1:case 0x2:console[il1i11(0x2a1,'Q3U&')](il1i11(0x22f,'Y(sA')+liIl1[il1i11(0x1fe,'G%#(')]?.[il1i11(0x2be,'yard')]);break;case 0x12:console[il1i11(0x265,'phZR')]('>\x20抽奖获得\x20'+liIl1['data']?.['prizeName'][il1i11(0x207,'NhVk')]('水滴','')+'💧');break;default:console[il1i11(0x1a3,'[r%(')](il1i11(0x2b1,'Sx9U')+liIl1[il1i11(0x21e,'Eq!t')]?.['prizeName']);return;}}else{if(liIl1[il1i11(0x1aa,'phcq')]||liIl1['msg']||liIl1[il1i11(0x1d3,'&ZbE')])console[il1i11(0x299,'A)ZR')](''+(liIl1[il1i11(0x276,'Q4Ol')]||liIl1['msg']||liIl1[il1i11(0x20f,'FM60')]));else liIl1['data']?.[il1i11(0x1dc,'A36F')]?il1i11(0x1f2,'Y(sA')===II1lll[il1i11(0x19b,'9^D^')]?I1iIll['log'](il1i11(0x221,'aIV3')+I1lliI+il1i11(0x1f0,'I0hf')+(llIllI[il1i11(0x1ad,')Aom')]||I1ilI1)):console[il1i11(0x21b,'crdz')](liIl1[il1i11(0x270,'DuSt')]?.[il1i11(0x23c,'FM60')]):console[il1i11(0x248,'g]6m')]('❓'+llliil+'\x20'+JSON[il1i11(0x20a,'yard')](liIl1));}break;}}catch(l1il1i){console[il1i11(0x28c,']LOz')](il1i11(0x1ef,'phcq')+llliil+'\x20请求响应\x20'+(l1il1i[il1i11(0x28e,'MSjf')]||l1il1i));}}async function sendRequest(ll1){const IlIll1=lllil,iI1llI={'NWvNu':IlIll1(0x240,'G%#('),'QIYHz':IlIll1(0x1d0,'yLW2'),'Anqlc':IlIll1(0x1cc,'eoSJ'),'BGNMd':'apTaskList','EQnMe':IlIll1(0x2bb,'y4ME'),'ouMkB':IlIll1(0x2b4,'&w9C'),'xKCWJ':'54ed7','EJoSn':IlIll1(0x254,'qTZ6'),'eLIXe':IlIll1(0x2b3,'&w9C'),'CdwNO':'gzip,\x20deflate,\x20br','WJASM':'keep-alive','VcCPv':IlIll1(0x1f9,'eoSJ'),'xTlRJ':'https://lotterydraw-new.jd.com','jyRPu':IlIll1(0x26f,'D1&O'),'DdDVg':'GET','uKSeA':function(liIli,liIll){return liIli===liIll;},'XwgOW':function(IilIi1,iI1liI){return IilIi1<iI1liI;},'pbCaV':function(l1lIiI,llliiI){return l1lIiI>llliiI;},'LPROS':IlIll1(0x211,'mydJ'),'jlgKp':function(IilIiI,i1i1I1,IlII1){return IilIiI(i1i1I1,IlII1);},'wVXzV':IlIll1(0x1a1,'j*#A')};if($[IlIll1(0x22e,'DuSt')])return;let llliii='',IllI11=null,l1llIi=null,II1llI=IlIll1(0x1d4,'I0hf'),i11I11={},l1llIl={};switch(ll1){case'wheelsHome':l1llIl={'appId':'c06b7','functionId':iI1llI[IlIll1(0x222,'eoSJ')],'appid':IlIll1(0x1d8,'Y(sA'),'clientVersion':common[IlIll1(0x1f4,'N8O)')](),'client':IlIll1(0x249,'I0hf'),'body':{'linkId':draw_linkId},'version':'4.7','ua':$['UA'],'t':!![]},i11I11=await H5st['getH5st'](l1llIl),llliii=iI1llI[IlIll1(0x2a4,'DuSt')],IllI11=i11I11[IlIll1(0x21a,'A)ZR')];break;case iI1llI[IlIll1(0x2ad,'D1&O')]:l1llIl={'appId':'bd6c8','functionId':IlIll1(0x28f,'FZ9@'),'appid':IlIll1(0x24b,'ir2E'),'clientVersion':common[IlIll1(0x1a8,'ir2E')](),'client':'ios','body':{'linkId':draw_linkId},'version':IlIll1(0x25b,'Q3U&'),'ua':$['UA'],'t':!![]},i11I11=await H5st[IlIll1(0x298,'FM60')](l1llIl),llliii=iI1llI[IlIll1(0x236,'g]6m')],IllI11=i11I11['paramsData'];break;case iI1llI['BGNMd']:II1llI=IlIll1(0x1f6,'RApm'),llliii=iI1llI[IlIll1(0x1a2,'yLW2')],l1llIi={'functionId':'apTaskList','body':JSON['stringify']({'linkId':draw_linkId}),'t':Date['now'](),'appid':IlIll1(0x1eb,'$gP2'),'client':iI1llI[IlIll1(0x205,'g]6m')],'clientVersion':common[IlIll1(0x26b,')Aom')]()};break;case IlIll1(0x25c,'DuSt'):l1llIl={'appId':iI1llI[IlIll1(0x1e1,'&ZbE')],'functionId':IlIll1(0x277,']LOz'),'appid':iI1llI[IlIll1(0x235,'Q4Ol')],'clientVersion':common['getLatestAppVersion'](),'client':iI1llI['ouMkB'],'body':{'taskType':$[IlIll1(0x1db,'0@xh')],'taskId':$[IlIll1(0x29d,'y4ME')],'channel':0x4,'checkVersion':!![],'linkId':draw_linkId,'itemId':$[IlIll1(0x1ac,'$gP2')]},'version':IlIll1(0x269,'$gP2'),'ua':$['UA'],'t':!![]},i11I11=await H5st[IlIll1(0x1b3,'aIV3')](l1llIl),llliii='https://api.m.jd.com/api',IllI11=i11I11[IlIll1(0x20b,'g]6m')];break;default:console['log'](IlIll1(0x1c1,'$&W$')+ll1);return;}const ii1I1l={};IllI11&&Object['assign'](IllI11,ii1I1l);l1llIi&&Object[IlIll1(0x212,'FM60')](l1llIi,ii1I1l);const ii1I1i={'url':llliii,'method':II1llI,'headers':{'Accept':iI1llI[IlIll1(0x1cd,'Q3U&')],'Accept-Encoding':iI1llI[IlIll1(0x29c,'A36F')],'Accept-Language':IlIll1(0x243,'yard'),'Connection':iI1llI['WJASM'],'Content-Type':IlIll1(0x220,'FZ9@'),'Cookie':cookie,'Host':iI1llI['VcCPv'],'Referer':IlIll1(0x282,'Eq!t')+draw_linkId,'X-Referer-Page':IlIll1(0x1be,'MSKC'),'Origin':iI1llI[IlIll1(0x225,'ir2E')],'x-rp-client':iI1llI[IlIll1(0x272,'tDF^')],'User-Agent':$['UA']},'params':l1llIi,'data':IllI11,'timeout':0x7530,'httpsTlsOptions':[iI1llI[IlIll1(0x222,'eoSJ')],IlIll1(0x1f3,'DuSt')][IlIll1(0x267,'Y(sA')](ll1)?common[IlIll1(0x1ed,'9^D^')]():null};II1llI===iI1llI[IlIll1(0x245,'N8O)')]&&(iI1llI[IlIll1(0x247,')Aom')](IlIll1(0x1a6,'A36F'),IlIll1(0x2a9,'[r%('))?iliIIi[IlIll1(0x1f8,'!t$K')](''+(ill11I[IlIll1(0x1c4,'NhVk')]||Iliiil['msg']||li1Il[IlIll1(0x285,'Sx9U')])):(delete ii1I1i['data'],delete ii1I1i['headers'][IlIll1(0x1e5,'MSKC')]));const llI=0x1;let llliI=0x0,iI1li1=null,lllii1=![];while(iI1llI[IlIll1(0x1b6,'phZR')](llliI,llI)){iI1llI['pbCaV'](llliI,0x0)&&await $[IlIll1(0x2ab,'Eq!t')](0x3e8);const lli=await common['request'](ii1I1i);if(!lli[IlIll1(0x239,'[r%(')]){if(iI1llI['uKSeA'](iI1llI[IlIll1(0x2ae,'FM60')],IlIll1(0x219,'ejLj')))l1lIl1['assign'](IiiIlI,Iilli1);else{iI1li1='🚫\x20'+ll1+'\x20请求失败\x20➜\x20'+lli[IlIll1(0x1b9,'vEC4')],llliI++;lli[IlIll1(0x1f7,'MSKC')]&&iI1llI[IlIll1(0x290,'ir2E')](lli['status'],0x193)&&['wheelsLottery'][IlIll1(0x267,'Y(sA')](ll1)&&($[IlIll1(0x279,'j*#A')]=!![]);continue;}}if(!lli['data']){iI1li1='🚫\x20'+ll1+'\x20请求失败\x20➜\x20无响应数据',llliI++;continue;}await iI1llI[IlIll1(0x2a6,'phZR')](handleResponse,ll1,lli[IlIll1(0x21c,'0@xh')]),lllii1=![];break;}llliI>=llI&&(console[IlIll1(0x1c2,'BuDg')](iI1li1),lllii1&&(iI1llI['uKSeA']('MpgGA',iI1llI[IlIll1(0x21d,'$&W$')])?($[IlIll1(0x2b7,'A36F')]=!![],$[IlIll1(0x271,'g]6m')]&&$[IlIll1(0x1c0,'DuSt')]['fix'](iI1li1)):iIIl1I['log']('❓'+I1iIli+'\x20'+lI1Ill[IlIll1(0x26a,')Aom')](lI1Ili))));}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
