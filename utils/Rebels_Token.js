/*
主要获取 isvObfuscator token值

获取签名，自定义使用方法如下

  - 请求 API 获取

    export JD_SIGN_API="" # 接口地址，例：http://127.0.0.1:3000/api/getSign，默认 'http://api.nolanstore.cc/sign'
    export JD_SIGN_API_BODY_FIELD="" # body参数字段名，默认 'body'
    export JD_SIGN_API_FUNCTIONID_FIELD="" # functionId参数字段名，默认 'fn'
    export JD_SIGN_API_METHOD="" # 请求方法，默认 'POST'，自定义仅支持 'GET'
    export JD_SIGN_API_CONTENT_TYPE="" # 请求头 'Content-Type'，默认 'application/json; charset=utf-8'，支持 'application/x-www-form-urlencoded' 格式
    JSON响应格式解析的字段目前仅支持 `body` `convertUrl` `convertUrlNew`

  - 本地自定义脚本生成

    如果存在本地签名生成脚本则会优先加载本地签名，具体规范如下：
    - 1. 需要将脚本命名为 Rebels_Sign.js 并存储在与 Rebels_Token 脚本同一目录下
    - 2. 调用函数名为 genSign 并且需要 export 导出
    - 3. 函数固定两个传参，分别是 functionId（函数id） 和 bodyParams（body参数对象）
    - 4. 函数需要返回含有 body、st、sign、sv 等关键字段的url参数形式的签名字符串

  不管通过何种途径获取签名，最终需要的签名形式为url参数格式且至少包含 `body` `st` `sv` `sign` 字段



new Env('Rebels_Token');
*/

function _0x49dd(_0x433185,_0x223811){const _0x4a3e8c=_0x4a3e();return _0x49dd=function(_0x49dd4a,_0x4eaa99){_0x49dd4a=_0x49dd4a-0xf4;let _0x6bc79f=_0x4a3e8c[_0x49dd4a];if(_0x49dd['OdvyFg']===undefined){var _0x43a5c3=function(_0x4c863e){const _0x33bb6c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x44767a='',_0x473627='';for(let _0x132d9c=0x0,_0xeaa6f6,_0x376b6c,_0x5267a9=0x0;_0x376b6c=_0x4c863e['charAt'](_0x5267a9++);~_0x376b6c&&(_0xeaa6f6=_0x132d9c%0x4?_0xeaa6f6*0x40+_0x376b6c:_0x376b6c,_0x132d9c++%0x4)?_0x44767a+=String['fromCharCode'](0xff&_0xeaa6f6>>(-0x2*_0x132d9c&0x6)):0x0){_0x376b6c=_0x33bb6c['indexOf'](_0x376b6c);}for(let _0x2e1a17=0x0,_0x55b9ab=_0x44767a['length'];_0x2e1a17<_0x55b9ab;_0x2e1a17++){_0x473627+='%'+('00'+_0x44767a['charCodeAt'](_0x2e1a17)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x473627);};const _0x5d3b58=function(_0xcd9c6b,_0xa83899){let _0x27299f=[],_0x277355=0x0,_0x4765bf,_0x260ba1='';_0xcd9c6b=_0x43a5c3(_0xcd9c6b);let _0x504ca0;for(_0x504ca0=0x0;_0x504ca0<0x100;_0x504ca0++){_0x27299f[_0x504ca0]=_0x504ca0;}for(_0x504ca0=0x0;_0x504ca0<0x100;_0x504ca0++){_0x277355=(_0x277355+_0x27299f[_0x504ca0]+_0xa83899['charCodeAt'](_0x504ca0%_0xa83899['length']))%0x100,_0x4765bf=_0x27299f[_0x504ca0],_0x27299f[_0x504ca0]=_0x27299f[_0x277355],_0x27299f[_0x277355]=_0x4765bf;}_0x504ca0=0x0,_0x277355=0x0;for(let _0x1edb20=0x0;_0x1edb20<_0xcd9c6b['length'];_0x1edb20++){_0x504ca0=(_0x504ca0+0x1)%0x100,_0x277355=(_0x277355+_0x27299f[_0x504ca0])%0x100,_0x4765bf=_0x27299f[_0x504ca0],_0x27299f[_0x504ca0]=_0x27299f[_0x277355],_0x27299f[_0x277355]=_0x4765bf,_0x260ba1+=String['fromCharCode'](_0xcd9c6b['charCodeAt'](_0x1edb20)^_0x27299f[(_0x27299f[_0x504ca0]+_0x27299f[_0x277355])%0x100]);}return _0x260ba1;};_0x49dd['xjlfOf']=_0x5d3b58,_0x433185=arguments,_0x49dd['OdvyFg']=!![];}const _0x276b9b=_0x4a3e8c[0x0],_0x3b8e79=_0x49dd4a+_0x276b9b,_0x58210c=_0x433185[_0x3b8e79];return!_0x58210c?(_0x49dd['NmdQUT']===undefined&&(_0x49dd['NmdQUT']=!![]),_0x6bc79f=_0x49dd['xjlfOf'](_0x6bc79f,_0x4eaa99),_0x433185[_0x3b8e79]=_0x6bc79f):_0x6bc79f=_0x58210c,_0x6bc79f;},_0x49dd(_0x433185,_0x223811);}const _0x408650=_0x49dd;(function(_0x43515f,_0x367e33){const _0x2cdf70=_0x49dd,_0x4732b7=_0x43515f();while(!![]){try{const _0x35de31=parseInt(_0x2cdf70(0x175,'Al&C'))/0x1+parseInt(_0x2cdf70(0x17c,'PH@)'))/0x2*(parseInt(_0x2cdf70(0x149,'2*Zo'))/0x3)+parseInt(_0x2cdf70(0xf7,'CqcB'))/0x4+parseInt(_0x2cdf70(0x152,'jR0%'))/0x5*(parseInt(_0x2cdf70(0x106,'NZ2L'))/0x6)+parseInt(_0x2cdf70(0xfd,'8$mU'))/0x7*(parseInt(_0x2cdf70(0x154,'orNd'))/0x8)+parseInt(_0x2cdf70(0x179,'sWrm'))/0x9*(-parseInt(_0x2cdf70(0x155,'sWrm'))/0xa)+parseInt(_0x2cdf70(0x162,'NZ2L'))/0xb*(-parseInt(_0x2cdf70(0x136,'@z^q'))/0xc);if(_0x35de31===_0x367e33)break;else _0x4732b7['push'](_0x4732b7['shift']());}catch(_0x1b8ba0){_0x4732b7['push'](_0x4732b7['shift']());}}}(_0x4a3e,0x24d56));const path=require(_0x408650(0x10c,'UFSP')),common=require(_0x408650(0x168,'NZ2L'));let scriptName=null,expireMinutes=0x1d;function _0x4a3e(){const _0x38f690=['5yM05PwWi8oeztaz5lMd55kVF3VVV4y','W4WMzSkomMiNr8kdm1ldJNOJFqFdHxZcKSk5d8kPjSovdCkL','mHRdOeVcRW','WPNcH8o+','WPbRW7BdMcJdGshdHufMrmosv8koW7TQW6tcVICEhSkrWPRdU8ohW4ldLmoEW7PQW6W','lNXupervW4nC','WRDxAwDWWRTEf8kcj8ojWPq','E8kgW7FcPSoLBmk6W7TKsI8','mvpcQG','ghOkqSo2zJJdUXWdWP7cIbGPzNP1W7ehW7tdJ8oH','WPtdRfddTmo/WR8DWPhdLSkAWPVcJWmAW4jLvXvgWOS+WQSapmkoW6NdNrdcLKxcVri7dmkodcBcPa','q8k0ESo9W7DyW5ZdLq','dhZdOcyg','WOhdTSkvxmownbJdPt/dISksWQK3W5retcr7jmo7WQKEW5TTW6y','WR87W4VdNGpdPHRcMg1YWReT','iv5R','W4rlWQdcOMNcGclcOKD/WPe7WRhdV8oxaSkKnLRdQCoKWRO','8ykBKCkXW7DVWQldOwyaW4qHwEwCUUwKREEsTEITIEAYN+AxL+McV+wjOEs4SUMwUUIURa','W7BdVxD9W4eWW5dcN1O','W7RcG8oYiSk8uhFdLcJdSSkuWQO4','kSoUsW','fSoMqmosW6jb','W6COBSkFlNKLvSko','kCo+W6zGWRir','WQabqa','k1JcPHmuvCk/WOK','pSoVW41AWP43','bgZcUa','8l+RQ8o8WRyWpstdKf3cS2uy56+A5zkD6i2w5y2r5AAD6lwI','bwBcRmopW5m2FW','8yYkJGjSdqBdN2WwgSkyW4hORiVMSPBLPPpOTBXE4P2vWONMLyhLKkFLU5pMLzJMJja','rmo+WP8uW4GvWQBdJZe4W4z4W7WmWP94W6G','WPVcH8oU','WR3dTCoKW5KiWOdcR8ks','zHRcJ8katchdPmkvxGC','m8oYsv0rWROvWRWU','WRJcPCkJ','B8k5WPi','oeZcSmkQ','nqpdOuFcLZ3cOCoFWQS','WQPoW53dUq','5BA26k6M572L6lAJ6l+56l+U6koL6k+M6lsW5y+f776S5yEu5Boj5Bcj6jAP776z','leG5Emoa','aLO4WPay','qq9SW4LB','iKBcS8kYW5PDW6m','pKrVCedcMCoX','W7W4WRZdPtdcKmo2nq','W6VcQCoFmSoKuSoUW4K','jSkjWOHQ','WOaupmkLu8kSW4xdN8k+gq','WPqpimk+rCkbW4tdLmk7bmof','WRHwr0Cbh8oIDW','W7tcIehdMmo8WRmmWO8','WQD4sCksg10YrW','laVdJMtdHrfuWQlcRCk+','4P2rgmkqnSohdvhcSCknWPTx5lIX55oT5QID5zYt5yM96lY+5Aw16lsyWR7INQL4','ECkJWPzzWPZcHN/dHmkL','WROUbCkb','g2hdRIiCqmkLd8o6W7WeW4y','WQ3cMs8MlxFdKCo/WR4','WOGska','rCo+WP8','E8kEhW','WPpcTb0kmKJdO8ocWOuKW7lcMrfeWOdcRq1rzmoknSojW6OpW4NcM396f8oxkqS','r8o1WP0','8y6lHbzwjSkuW4RdLCk9ySoTvUwEGEwKSoEsOUAoS+wnSUwtHUw7S+AuSUMbUowlMUs6N+MuNUIVImo64P6yWRy','W5TmW6rVpW','bCkFWOtcUeVdUCkq','D8kEcJlcUK8OW4a','hwVdUYWAuCkv','AmoFW58EW7a7WQJdIdHuWPGGWR9tW4q9WQ3dV8kTW5RcUmkOW5tcICkoW77cIYNdTCoWW75yv1ifBmohW7ZcJNVcPCkpmfzcW4KT','W4BdMCkXdYJcMrmZgK9PeXu','mrJdO1RcOHFcO8oyWRNcI8k/','WRpcR8kW','BKJcMZRdHW','W7CYWQNcTa','jfhcTSk7','F8ozWPtdHCkcr8k6','WOGyiCkHsmkQ','4P+cl8kyWO5oWOisWP1TwSo06k6c5RkS5AAE6lAGBEkDOe8','W7i2WQG','fSkPW5jgWPi4WOZdQGKzW7a','WPlcHSo/','W7BdVxDvW7W0W5tcJG','FHTSoSkxwYZdOWCQWOi','wWdcMbOUECkMWPNcVG','pCoEWQNdTSkBACkhW7DC','i1pcR8k3W48','hSkpWQRdI2tcTmk7ChtdRLBdVwfXW5JdOSkB','W7/cH8o9j8oSma/dGaldOa','WPpcTb0kmKJdO8ocWOuKW7lcMrfyWOJcQr9xDCoomCoFW6ulW4BcNa','W6P5bW','W6nZbmklnf/dQa','WOL9W6hdRgH0tCkcc8oRnGxcMCkTW5ZcUUwsG+EvR11kW6hdUSoPk1dcVCkMqUs6QUEtIEAWUUs7ToEsUmof5PAEWQBcLJRcOCo2FtpcMGyCW57dGSkBW4pcUCkt','W6THWOK','lmk0WRxcN33dJmk7WRBdNvH/WQRcNvxdMJXaW4tcLmk/W5vhW4xcKmk2WPtdVCor','BW7cNG8','Ba1TW5r4zmoOW5RcH1FdOMBcGmoEqMhcSsZdHZtcMepcHZqRWRO','fhZdRa','WP7dN8oyW7WUWRlcLCk1wthdQmofW5zeFc/cQJO','xM3cJ8oQW6CwsG','dwddRG8bsmkpfW','W6a1ySkifMmFvSkoga','dLXugw1OW7zxwxNdOCoYW5ykW47dM8knWO54aSkBospdVI9Jvsm8W4a/pCofWPhcUXhdLCkvWRToW68PBCkGWOVdUIBdSvGVW7FdUrVcNqlcU2KMWPm8','hCoSuW','8joRGsJdH01IW5pdJCkvCCoJkoAnG+wnLowtQow6OUw/MUw5Omkp4P+PW5ZOTihLJilMLRhMLja','cgBdVW','W6xcOSosc8oq','8kwAQmo/W5VdLYvoW4VdI8o2WPSJWOTuwLrd57+C5A+w6k2Y5y205AAU6lEMWRVINi/dTa','fgZdNCkOW5SrhK7cPq','W6CyjsqGW6HRiCk+cCobWQfYW7Lfnq','F8kIWQqsW49HW6mvW5tdL8owcq','rmk0dmkPWPyYW5pdVCk0qGOd','W5RdP8oAEW','kSoDWQZdQG','WOmhjSk2emoIW4/dN8k7aCodk8kbW4BcLSoLCW','WQHlva','WPC8AxGqWRBdGCoUWPLmW4y4W7zKW7zzW4LsomkqASkKv1vR','WP7dN8oyW7WUWRlcLCk1wthdQmofW5zyDcVcUdXKhJxdMuxdMSkjWP/dGwpcHCoiWR3dMrrGW6O','WQNcGI07gf3dK8o4WQWgW5a','yYBdUmkSlCoFWR5MogrdxIzXe1y','eCktkmoIxqmOW7tdPN1UWPjndwL0W7fnqmkbC3rZW51jfL3cVq','WRJdTmoG','ahZdP8o7DIxdS8kWyY0SWOT9sqDwWQCbtCk6gSodAmoHka','c8kAWRldGxG','yXZcGCkfuZVdHSkCAs0','x8oeW5RcNNRdSCkQWRFdMG','WRyUemkpB8kuW7tdRSksjSoNeCk7WRRdPmoiwtGvW71nruDlp8kXW4OyW50','4PY0m8oSjHXXWOKiW7BdT0RdOgFcMCofDoI8GEApG+w+MEw4TL/INQrR','W7WCfdnqsSoSyq8iWPNcHq','FSkYWPDe','FaddQSoxrXBdGmkxCWWnWOznyYz2WOS','rSo6WP8w','W64LWQ/cOJqUfq','W6D5fmk9','W6JcO8oJmSoRxCoHW6unWQhdJa','ivXpuJFdKmkFsq'];_0x4a3e=function(){return _0x38f690;};return _0x4a3e();}try{expireMinutes=parseInt(process['env']['JD_ISV_TOKEN_CACHE_EXPIRE_MINUTES']||'29');}catch{}const defaultCacheTTL=expireMinutes*0x3c*0x3e8,TokenCache=new common[(_0x408650(0x13a,'8$mU'))](process['env'][_0x408650(0x17b,'CqcB')]||__dirname+'/token.json',defaultCacheTTL,0x2bf20),lzkjPinFilter=(process['env']['JD_ISV_TOKEN_LZKJ_PIN_FILTER']||'')[_0x408650(0x161,'g4I!')]('@'),lzkjPinFilter_interactsaas_and_interaction_v1=(process[_0x408650(0x123,'h)lD')][_0x408650(0x14c,'^OR!')]||process['env'][_0x408650(0x124,'Xz4^')]||process[_0x408650(0x125,'@z^q')][_0x408650(0x15b,'LBy2')]||'')[_0x408650(0x12f,']uX[')]('@'),lzkjPinFilter_interaction_v2=(process['env']['JD_ISV_TOKEN_LZKJ_INTERACTION_V2_PIN_FILTER']||'')[_0x408650(0x170,'[]hr')]('@'),cjhyPinFilter=(process['env']['JD_ISV_TOKEN_CJHY_PIN_FILTER']||'')[_0x408650(0x13c,')@e^')]('@');let requestAxiosProxyConfig,requestDynamicProxyConfig;try{const proxyAddress=process[_0x408650(0x125,'@z^q')][_0x408650(0x15a,'JQw@')]||process[_0x408650(0x143,'PH@)')][_0x408650(0x148,'LBy2')]||'';if(proxyAddress){const proxyConfig=common[_0x408650(0x146,'eVe[')](proxyAddress);proxyConfig?(requestAxiosProxyConfig=proxyConfig,console[_0x408650(0x108,'wb$)')](_0x408650(0x142,'jEv9'))):console['log']('❌\x20提供的代理地址无效，跳过启用\x20getToken\x20代理池代理');}else{const proxyApi=process['env'][_0x408650(0x177,'Z1EQ')]||process['env'][_0x408650(0xf4,'PH@)')]||'';if(proxyApi){requestDynamicProxyConfig={'api':null,'proxyConfig':null,'useLimit':null,'timeLimit':null,'fetchFailContinue':null,'extractTimestamp':null,'lastUseTimeStamp':null,'usedTimes':null},requestDynamicProxyConfig[_0x408650(0x176,')@e^')]=proxyApi;const useLimit=process['env'][_0x408650(0x15e,'Lr$H')]||process[_0x408650(0xfc,'JQw@')][_0x408650(0x13f,'Xz4^')]||'0';try{requestDynamicProxyConfig[_0x408650(0x118,'vBK2')]=parseInt(useLimit);}catch{requestDynamicProxyConfig[_0x408650(0x138,'i)TF')]=0x1;}const timeLimit=process[_0x408650(0x137,'nVbP')][_0x408650(0x164,'nLSH')]||_0x408650(0x10f,'eVe[');try{requestDynamicProxyConfig[_0x408650(0xfa,'JQW!')]=parseInt(timeLimit);}catch{requestDynamicProxyConfig[_0x408650(0x120,'Xz4^')]=0x2710;}requestDynamicProxyConfig[_0x408650(0x13d,'g4I!')]=(process['env'][_0x408650(0x178,'J6Q&')]||_0x408650(0x130,'jEv9'))===_0x408650(0x131,')@e^'),console[_0x408650(0x17d,'T]No')]('\x0a================启用\x20getToken\x20API代理(新)================\x0a');}}const globalProxy=process[_0x408650(0x109,'gTzh')][_0x408650(0x160,'NZ2L')]==='true';if(globalProxy)try{require('global-agent/bootstrap'),console[_0x408650(0x104,'nVbP')]('\x0a===============启用\x20getToken\x20代理池代理(旧)==============\x0a');}catch(_0x5d3b58){console[_0x408650(0x104,'nVbP')](_0x408650(0x11c,']uX[')+_0x5d3b58['message']);}}catch{}const redisUrl=process[_0x408650(0x137,'nVbP')]['JD_ISV_TOKEN_REDIS_CACHE_URL']||'',redisKey=process['env'][_0x408650(0x144,')MRu')]||'',redisSubmit=!(process[_0x408650(0x159,'vBK2')][_0x408650(0x172,'UFSP')]===_0x408650(0x10e,'Z1EQ')),hasRedisKey=/<pt_pin>/[_0x408650(0x167,'gTzh')](redisKey);let redisClient=null;if(redisUrl){let redis=null;try{redis=require(_0x408650(0x110,'eVe['));}catch(_0x4c863e){console[_0x408650(0xf8,'cY@@')]('❌\x20getToken\x20Redis模块加载失败\x20➜\x20'+_0x4c863e['message']);}if(redis)try{redisClient=redis[_0x408650(0x11f,'HOfW')]({'url':redisUrl});}catch(_0x33bb6c){console['log'](_0x408650(0x165,'HOfW')+(_0x33bb6c[_0x408650(0x101,'2*Zo')]||_0x33bb6c));}}async function _redisCacheGet(_0x44767a){const _0x5112ee=_0x408650,_0x473627=encodeURIComponent(hasRedisKey?redisKey[_0x5112ee(0x111,')@e^')](/<pt_pin>/g,ptPin):''+redisKey+_0x44767a),_0x132d9c=0x3;let _0xeaa6f6=null;for(let _0x376b6c=0x0;_0x376b6c<_0x132d9c;_0x376b6c++){try{await redisClient['connect']();}catch{}try{const _0x5267a9=await redisClient[_0x5112ee(0x12e,'wb$)')](_0x473627);if(_0x5267a9)return _0x5267a9;_0xeaa6f6=null;break;}catch(_0x2e1a17){_0xeaa6f6=_0x2e1a17[_0x5112ee(0x16a,'jEv9')]||_0x2e1a17;}}if(_0xeaa6f6)console['log'](_0x5112ee(0x151,'2*Zo')+_0xeaa6f6);return'';}async function _redisCachePut(_0x55b9ab,_0xcd9c6b){const _0x322997=_0x408650,_0xa83899=Math['floor']((Date[_0x322997(0x171,'nVbP')]()+defaultCacheTTL)/0x3e8),_0x27299f=encodeURIComponent(hasRedisKey?redisKey['replace'](/<pt_pin>/g,ptPin):''+redisKey+_0x55b9ab),_0x277355=_0xcd9c6b,_0x4765bf=0x3;let _0x260ba1=null;for(let _0x504ca0=0x0;_0x504ca0<_0x4765bf;_0x504ca0++){try{await redisClient[_0x322997(0x128,')MRu')]();}catch{}try{await redisClient['set'](_0x27299f,_0x277355),await redisClient['EXPIREAT'](_0x27299f,_0xa83899),_0x260ba1=null;break;}catch(_0x1edb20){_0x260ba1=_0x1edb20['message']||_0x1edb20;}}if(_0x260ba1)console['log']('🚫\x20getToken\x20Redis缓存写入失败\x20➜\x20'+_0x260ba1);}async function _redisClientClose(){const _0x3c3ca1=_0x408650;try{await redisClient[_0x3c3ca1(0x116,'nLSH')]();}catch(_0x56fd6c){}}async function getToken(_0x1f149a,_0x3d4799,_0x1cfcd0=!![]){const _0x2c89de=_0x408650;let _0x3413fc='';try{const _0x54d815=decodeURIComponent(common['getCookieValue'](_0x1f149a,_0x2c89de(0xfe,'orNd')));if(_0x54d815){if(!scriptName){const _0x315ca7=require['main'][_0x2c89de(0x16d,'g#Og')];scriptName=path[_0x2c89de(0x113,'5e8z')](_0x315ca7,'.js');}if(_0x1cfcd0){let _0x16ee3d=[];if(_0x3d4799['includes'](_0x2c89de(0x11e,']LsA'))){if(scriptName[_0x2c89de(0x14b,'JQW!')](_0x2c89de(0x16c,'g)1@')))_0x16ee3d=lzkjPinFilter_interaction_v2;else scriptName['startsWith'](_0x2c89de(0x173,'^OR!'))?_0x16ee3d=lzkjPinFilter_interactsaas_and_interaction_v1:_0x16ee3d=lzkjPinFilter;}else _0x3d4799[_0x2c89de(0x114,'g)1@')](_0x2c89de(0x157,'Al&C'))&&(_0x16ee3d=cjhyPinFilter);if(_0x16ee3d[_0x2c89de(0x133,'nLSH')]>0x0&&(_0x16ee3d[_0x2c89de(0x105,'LBy2')](_0x54d815)||_0x16ee3d[_0x2c89de(0x129,'h)lD')](encodeURIComponent(_0x54d815))))return console[_0x2c89de(0x121,'nLSH')](_0x2c89de(0x10d,'^OR!')),'';_0x3413fc=TokenCache[_0x2c89de(0x122,'@z^q')](_0x54d815)||'';if(_0x3413fc)return _0x3413fc;if(redisClient){_0x3413fc=await _redisCacheGet(_0x54d815);if(_0x3413fc)return _0x3413fc;}}}const _0x12673f=await common[_0x2c89de(0x141,'q8ea')]('isvObfuscator',{'url':_0x3d4799,'id':''});if(!_0x12673f)return console[_0x2c89de(0x14d,'sWrm')](_0x2c89de(0x100,'jEv9')),'';let _0x8d99f3=null,_0x215132=![];if(requestAxiosProxyConfig||requestDynamicProxyConfig){if(requestAxiosProxyConfig)_0x8d99f3=requestAxiosProxyConfig;else{if(requestDynamicProxyConfig){if(requestDynamicProxyConfig[_0x2c89de(0x117,'nLSH')])_0x8d99f3=requestDynamicProxyConfig[_0x2c89de(0x12d,'[]hr')],_0x215132=!![];else{const _0x400de7=await common['getProxyAddressWithApi'](requestDynamicProxyConfig['api']),_0x506ae6=common[_0x2c89de(0x16f,'JQW!')](_0x400de7);if(_0x506ae6)requestDynamicProxyConfig[_0x2c89de(0x153,'c#fB')]=Date['now'](),requestDynamicProxyConfig[_0x2c89de(0x107,'cY@@')]=0x0,requestDynamicProxyConfig[_0x2c89de(0x15c,'Xz4^')]=_0x506ae6,_0x8d99f3=_0x506ae6,console[_0x2c89de(0x147,'HOfW')](_0x2c89de(0x16e,'Lr$H')+_0x506ae6[_0x2c89de(0x10a,')@e^')]+':'+_0x506ae6[_0x2c89de(0x145,'8$mU')]),_0x215132=!![];else{if(!requestDynamicProxyConfig[_0x2c89de(0x103,'@z^q')])return console[_0x2c89de(0x135,'5e8z')]('🚫\x20getToken\x20请求错误\x20➜\x20获取动态代理地址失败，已设置跳过请求'),'';}}}}}const _0x53b58a={'url':'https://api.m.jd.com/client.action?functionId=isvObfuscator','method':_0x2c89de(0x115,'r8hf'),'headers':{'Host':'api.m.jd.com','Content-Type':'application/x-www-form-urlencoded','User-Agent':common[_0x2c89de(0x150,'g)1@')](_0x54d815)||_0x2c89de(0x12b,'@z^q'),'Accept-Language':'zh-Hans-CN;q=1','Accept-Encoding':_0x2c89de(0x158,'nLSH'),'J-E-H':common[_0x2c89de(0xfb,'orNd')](),'J-E-C':common[_0x2c89de(0xf9,'sWrm')](_0x54d815),'Cookie':_0x1f149a},'proxy':_0x8d99f3,'data':_0x12673f,'timeout':0xea60},_0x234d76=0x2;let _0x4853e7=0x0,_0x50c2f7=null;while(_0x4853e7<_0x234d76){const _0x1f54d8=await common['request'](_0x53b58a);if(_0x215132){requestDynamicProxyConfig['lastUseTimeStamp']=Date['now'](),requestDynamicProxyConfig['usedTimes']++;const _0x2255e8=requestDynamicProxyConfig['useLimit']>0x0&&requestDynamicProxyConfig['usedTimes']>=requestDynamicProxyConfig[_0x2c89de(0x14a,'HOfW')],_0x17e683=requestDynamicProxyConfig[_0x2c89de(0x10b,'[]hr')]>0x0&&Date[_0x2c89de(0x140,'q8ea')]()-requestDynamicProxyConfig['extractTimestamp']>=requestDynamicProxyConfig[_0x2c89de(0x13b,'Al&C')];(_0x2255e8||_0x17e683)&&(requestDynamicProxyConfig['proxyConfig']=null,requestDynamicProxyConfig['lastUseTimeStamp']=null,requestDynamicProxyConfig[_0x2c89de(0x15d,'QbW&')]=null,requestDynamicProxyConfig[_0x2c89de(0xf6,'i)TF')]=0x0);}if(!_0x1f54d8[_0x2c89de(0x112,'T]No')]){_0x50c2f7=_0x2c89de(0x134,'PH@)')+_0x1f54d8[_0x2c89de(0x127,'OJE$')],_0x4853e7++;continue;}if(!_0x1f54d8[_0x2c89de(0x156,'$cWj')]){_0x50c2f7=_0x2c89de(0x102,'vBK2'),_0x4853e7++;continue;}try{const _0x5dd301=_0x1f54d8[_0x2c89de(0x169,'@z^q')];if(_0x5dd301[_0x2c89de(0x16b,'q8ea')]==='0')_0x3413fc=_0x5dd301[_0x2c89de(0x17a,'HOfW')],TokenCache[_0x2c89de(0x14f,'HOfW')](_0x54d815,_0x3413fc,defaultCacheTTL),redisClient&&redisSubmit&&await _redisCachePut(_0x54d815,_0x3413fc);else _0x5dd301['code']==='3'&&_0x5dd301['errcode']===0x108?console[_0x2c89de(0x147,'HOfW')](_0x2c89de(0x14e,'eVe[')):console[_0x2c89de(0x15f,'LBy2')]('🚫\x20getToken\x20接口响应异常\x20➜\x20'+JSON[_0x2c89de(0x11d,'gTzh')](_0x5dd301));}catch(_0x5e0c60){console['log'](_0x2c89de(0x126,'JQw@')+(_0x5e0c60[_0x2c89de(0x101,'2*Zo')]||_0x5e0c60));}break;}return _0x4853e7>=_0x234d76&&console[_0x2c89de(0xff,'2*Zo')](_0x50c2f7),_0x3413fc;}catch(_0x17c8fd){return console['log'](_0x2c89de(0xf5,'!1FJ')),console['log'](_0x17c8fd),_0x3413fc;}finally{redisClient&&await _redisClientClose();}}module[_0x408650(0x12a,'HOfW')]=getToken;